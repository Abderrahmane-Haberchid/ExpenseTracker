<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:ExpenseTracker.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="ExpenseTracker.Views.MainView"
             x:DataType="vm:MainViewModel">

  <Design.DataContext>
    <vm:MainViewModel />
  </Design.DataContext>

  <UserControl.Resources>
    <!-- Modern Color Palette -->
    <SolidColorBrush x:Key="PrimaryBrush" Color="#6366F1" />
    <SolidColorBrush x:Key="SecondaryBrush" Color="#8B5CF6" />
    <SolidColorBrush x:Key="AccentBrush" Color="#EC4899" />
    <SolidColorBrush x:Key="SurfaceBrush" Color="#FFFFFF" />
    <SolidColorBrush x:Key="BackgroundBrush" Color="#F8FAFC" />
    <SolidColorBrush x:Key="TextPrimaryBrush" Color="#0F172A" />
    <SolidColorBrush x:Key="TextSecondaryBrush" Color="#64748B" />
    <SolidColorBrush x:Key="TextTertiaryBrush" Color="#94A3B8" />
    <SolidColorBrush x:Key="NavBarBrush" Color="#1E293B" />
    <SolidColorBrush x:Key="NavActiveBackgroundBrush" Color="#6366F1" />
    <SolidColorBrush x:Key="NavHoverBrush" Color="#334155" />
    
    <!-- Typography -->
    <FontFamily x:Key="InterFont">Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif</FontFamily>
    
    <!-- Gradients -->
    <!-- <LinearGradientBrush x:Key="FABGradient" StartPoint="0,0" EndPoint="1,1"> -->
    <!--   <GradientStop Color="#6366F1" Offset="0" /> -->
    <!--   <GradientStop Color="#8B5CF6" Offset="1" /> -->
    <!-- </LinearGradientBrush> -->
    <LinearGradientBrush x:Key="FabGradient" StartPoint="0,0" EndPoint="1,1">
      <GradientStop Color="#5B21B6" Offset="0" />
      <GradientStop Color="#7C3AED" Offset="0.5" />
      <GradientStop Color="#EC4899" Offset="1" />
    </LinearGradientBrush>
  </UserControl.Resources>

  <UserControl.Styles>
    <!-- Navigation Button Style -->
    <Style Selector="Button.nav-button">
      <Setter Property="Background" Value="Transparent" />
      <Setter Property="BorderThickness" Value="0" />
      <Setter Property="Padding" Value="8,12" />
      <Setter Property="CornerRadius" Value="12" />
      <Setter Property="HorizontalContentAlignment" Value="Center" />
      <Setter Property="VerticalContentAlignment" Value="Center" />
      <Setter Property="Cursor" Value="Hand" />
      <Setter Property="Margin" Value="4,0" />
    </Style>
    
    <Style Selector="Button.nav-button:pointerover">
      <Setter Property="Background" Value="#F1F5F920" />
    </Style>
    
    <Style Selector="Button.nav-button:pressed">
      <Setter Property="Background" Value="#E2E8F020" />
    </Style>
    
    <!-- FAB Style -->
    <Style Selector="Button.fab">
      <Setter Property="Background" Value="{StaticResource FabGradient}" />
      <Setter Property="BorderThickness" Value="0" />
      <Setter Property="CornerRadius" Value="28" />
      <Setter Property="HorizontalContentAlignment" Value="Center" />
      <Setter Property="VerticalContentAlignment" Value="Center" />
      <Setter Property="Cursor" Value="Hand" />
    </Style>
    
    <Style Selector="Button.fab:pointerover">
      <Setter Property="Opacity" Value="0.9" />
    </Style>
    
    <Style Selector="Button.fab:pressed">
      <Setter Property="Opacity" Value="0.8" />
    </Style>
  </UserControl.Styles>

  <Grid RowDefinitions="*, Auto">
    
    <!-- Main Content Area -->
    <ContentControl Grid.Row="0" 
                    Content="{Binding CurrentPage}" 
                    Background="{StaticResource BackgroundBrush}" />
    
    <!-- Modern Bottom Navigation Bar -->
    <Border Grid.Row="1" 
            Background="{StaticResource SurfaceBrush}"
            CornerRadius="24,24,0,0"
            Height="88"
            Margin="0"
            BoxShadow="0 -4 6 -1 #0F172A0A, 0 -2 4 -1 #0F172A06">
      
      <!-- Navigation Container -->
      <Grid ColumnDefinitions="*,*,Auto,*,*" 
            Margin="8,8,8,16">
        
        <!-- Home Button -->
        <Button Grid.Column="0" 
                Classes="nav-button"
                Command="{Binding HomeCommand}">
          <StackPanel Spacing="4">
            <Border Width="28" Height="28" 
                    CornerRadius="14"
                    Background="Transparent">
              <!-- Home Icon using Unicode -->
              <TextBlock Text="ðŸ " 
                         FontSize="18"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
            </Border>
            <TextBlock Text="Home" 
                       FontFamily="{StaticResource InterFont}"
                       FontSize="11" 
                       FontWeight="Medium"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Center" />
          </StackPanel>
        </Button>
        
        <!-- Analytics Button -->
        <Button Grid.Column="1" 
                Classes="nav-button"
                Command="{Binding AnalyticCommand}"
                >
          <StackPanel Spacing="4">
            <Border Width="28" Height="28" 
                    CornerRadius="14"
                    Background="Transparent">
              <!-- Analytics Icon -->
              <TextBlock Text="ðŸ“Š" 
                         FontSize="18"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
            </Border>
            <TextBlock Text="Analytics" 
                       FontFamily="{StaticResource InterFont}"
                       FontSize="11" 
                       FontWeight="Medium"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Center" />
          </StackPanel>
        </Button>
        
        <!-- Floating Action Button (Add Transaction) -->
        <Button Grid.Column="2"
                Classes="fab"
                Width="60"
                Height="60"
                Margin="0,-35,0,0"
                Command="{Binding AddTransactionCommand}"
                >
          <TextBlock Text="+" 
                     FontSize="24"
                     FontWeight="Bold"
                     Foreground="White"
                     HorizontalAlignment="Center"
                     VerticalAlignment="Center" />
        </Button>
        
        <!-- Transaction History Button -->
        <Button Grid.Column="3" 
                Classes="nav-button"
                Command="{Binding HistoryCommand}"
                >
          <StackPanel Spacing="4">
            <Border Width="28" Height="28" 
                    CornerRadius="14"
                    Background="Transparent">
              <!-- History Icon -->
              <TextBlock Text="ðŸ“‹" 
                         FontSize="18"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
            </Border>
            <TextBlock Text="History" 
                       FontFamily="{StaticResource InterFont}"
                       FontSize="11" 
                       FontWeight="Medium"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Center" />
          </StackPanel>
        </Button>
        
        <!-- Profile/Settings Button -->
        <Button Grid.Column="4" 
                Classes="nav-button"
                >
          <StackPanel Spacing="4">
            <Border Width="28" Height="28" 
                    CornerRadius="14"
                    Background="Transparent">
              <!-- Profile Icon -->
              <TextBlock Text="ðŸ‘¤" 
                         FontSize="18"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
            </Border>
            <TextBlock Text="Profile" 
                       FontFamily="{StaticResource InterFont}"
                       FontSize="11" 
                       FontWeight="Medium"
                       Foreground="{StaticResource TextSecondaryBrush}"
                       HorizontalAlignment="Center" />
          </StackPanel>
        </Button>
        
      </Grid>
    </Border>
    
  </Grid>

</UserControl>